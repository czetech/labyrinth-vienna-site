---
import BaseLayout from "~/layouts/BaseLayout.astro";
import { getCollection, getEntry } from "astro:content";
import path from "pathe";
import ContentImage from "~/components/ContentImage.astro";
import Markdown from "~/components/Markdown.astro";

const { teacher } = Astro.props;

export const getStaticPaths = async () => {
  return (await getCollection("teachers")).map((teacher) => ({
    params: { name: teacher.id },
    props: { teacher },
  }));
};
---

<BaseLayout>
  <div
    class={`flex flex-col items-center gap-x-16 gap-y-8 md:flex-row
      md:items-start`}
  >
    <ContentImage
      path={teacher.data.image}
      class="mb-3 max-h-[50dvh] w-full object-cover md:max-w-72 md:rounded-2xl"
    />
    <article class="mx-8 max-w-144 md:mx-0 font-serif">
      <h1 class="mb-4 text-4xl">{teacher.data.name}</h1>
      <div class="text-lg text-justify tracking-wide"><Markdown content={teacher.data.description} /></div>
    </article>
  </div>
</BaseLayout>
